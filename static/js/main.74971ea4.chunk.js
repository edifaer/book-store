(this["webpackJsonpre-store"]=this["webpackJsonpre-store"]||[]).push([[0],{23:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(41);t.a=function(){return r.a.createElement("div",{className:"loadingio-spinner-double-ring-wae50y9m20c"},r.a.createElement("div",{className:"ldio-w1owd7ldnro"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}},24:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(42);t.a=function(){return r.a.createElement("div",{className:"error-indicator"},"Error")}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(0),r=n.n(a).a.createContext(),o=r.Provider,c=r.Consumer},29:function(e,t,n){e.exports=n(43)},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=n(11),l=n(7),u=n(26),s=function(e,t){if(void 0===e)return{books:[],loading:!0,error:null};switch(t.type){case"FETCH_BOOKS_REQUEST":return{books:[],loading:!0,error:null};case"FETCH_BOOKS_SUCCESS":return{books:t.payload,loading:!1,error:null};case"FETCH_BOOKS_FAILURE":return{books:[],loading:!1,error:t.payload};default:return e.bookList}},d=n(9),m=function(e,t,n){return 0===t.count?[].concat(Object(d.a)(e.slice(0,n)),Object(d.a)(e.slice(n+1))):-1===n?[].concat(Object(d.a)(e),[t]):[].concat(Object(d.a)(e.slice(0,n)),[t],Object(d.a)(e.slice(n+1)))},p=function(e,t,n){var a=e.bookList.books,r=e.shoppingCart,o=r.cartItems,c=r.orderTotal,i=r.orderCount,l=a.find((function(e){return e.id===t})),u=o.findIndex((function(e){return e.id===t})),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=t.id,r=void 0===a?e.id:a,o=t.count,c=void 0===o?0:o,i=t.title,l=void 0===i?e.title:i,u=t.total,s=void 0===u?0:u;return{id:r,title:l,count:c+n,total:Math.round(100*(s+n*e.price))/100}}(l,o[u],n),d=n>0?c+l.price:c+l.price*n;return{orderTotal:Math.round(100*d)/100,orderCount:i+n,cartItems:m(o,s,u)}},f=function(e,t){if(void 0===e)return{cartItems:[],orderTotal:0,orderCount:0};switch(t.type){case"BOOK_ADDED_TO_CART":return p(e,t.payload,1);case"BOOK_REMOVED_FROM_CART":return p(e,t.payload,-1);case"ALL_BOOKS_REMOVED_FROM_CART":var n=e.shoppingCart.cartItems.find((function(e){return e.id===t.payload}));return p(e,t.payload,-n.count);default:return e.shoppingCart}},h=function(e,t){return{bookList:s(e,t),shoppingCart:f(e,t)}},E=n(16),g=Object(E.b)(h),v=(n(38),n(2)),O=(n(39),function(e){var t=e.numItems;return r.a.createElement("header",{className:"shop-header row"},r.a.createElement(l.b,{className:"logo text-dark",to:"/"},"ReStore"),r.a.createElement(l.b,{className:"shopping-cart",to:"/cart"},r.a.createElement("i",{className:"cart-icon fa fa-shopping-cart"}),"Cart (",r.a.createElement("span",{className:"cart-items-count"},t),")"))}),b=n(23),_=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(b.a,null)},r.a.createElement(e,t))}},C=r.a.lazy((function(){return n.e(4).then(n.bind(null,50))})),y=r.a.lazy((function(){return n.e(3).then(n.bind(null,49))})),j=Object(i.b)((function(e){return{orderCount:e.shoppingCart.orderCount}}))((function(e){var t=e.orderCount;return r.a.createElement("main",{role:"main",className:"container"},r.a.createElement(O,{numItems:t}),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",render:_(y),exact:!0}),r.a.createElement(v.a,{path:"/cart",render:_(C)})))})),I=n(14),S=n(15),k=n(27),B=n(25),T=n(24),w=function(e){Object(k.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(I.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(S.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(T.a,null):this.props.children}}]),n}(r.a.Component),R=new(function(){function e(){Object(I.a)(this,e),this.data=[{id:1,title:"Production-Ready Microservices",author:"Susan J. Fowler",price:32,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg"},{id:2,title:"Release It!",author:"Michael T. Nygard",price:45,coverImage:"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg"},{id:3,title:"Nineteen Minutes",author:"Jodi Picoult",price:11,coverImage:"https://images-na.ssl-images-amazon.com/images/I/51FFa23AzrL._SX322_BO1,204,203,200_.jpg"},{id:4,title:"The Boy in the Striped Pajamas",author:"John Boyne",price:8.3,coverImage:"https://images-na.ssl-images-amazon.com/images/I/61OX4OteXZL._SX328_BO1,204,203,200_.jpg"}]}return Object(S.a)(e,[{key:"getBooks",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t(e.data)}),700)}))}}]),e}());c.a.render(r.a.createElement(i.a,{store:g},r.a.createElement(w,null,r.a.createElement(u.b,{value:R},r.a.createElement(l.a,null,r.a.createElement(j,null))))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.74971ea4.chunk.js.map